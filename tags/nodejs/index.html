<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    
    <link
      href="/tags/nodejs/index.xml"
      rel="alternate"
      type="application/rss+xml"
      title="Nigel 隨便寫"
    />
    <link
      href="/tags/nodejs/index.xml"
      rel="feed"
      type="application/rss+xml"
      title="Nigel 隨便寫"
    />
    

    <title>nodejs</title>

     
    <link rel="stylesheet" href="https://nigel-wei-zhe.github.io/css/colors-dark.min.04ff1d6d2078fa65747fb72cef57eee0015c1b56e56c24eed85082032b2182f4.css" />
    <link rel="stylesheet" href="https://nigel-wei-zhe.github.io/css/mystyle.min.b714d93137a57ef2061e952e17d9d0c9bba8139d60a5ea4752530352bb90b2f0.css" />

    
  </head>
  <body>
    <header id="header">
      <h1><a href="https://nigel-wei-zhe.github.io/">Nigel 隨便寫</a></h1>
      <p>唯一應該超越的人，是昨天的自己</p>
      <p>The only person you should try to be better than, is who you were yesterday.</p>
    </header>

    <div id="page">
      <div id="sidebar"><nav>
	
		<ul class="nav">
			
				<li>
					<a href="/about">
						<div class="nav-item">
							<span>About Me</span>
							<span class="identifier">關於我</span>
						</div>
					</a>
				</li>
			
				<li>
					<a href="/posts">
						<div class="nav-item">
							<span>Blog</span>
							<span class="identifier">網誌</span>
						</div>
					</a>
				</li>
			
		</ul>
	
</nav>
</div>

      <div id="content"> 
<article class="post">
  <h1>
    <a href="https://nigel-wei-zhe.github.io/posts/shallow-copy-_-deep-copy/">Shallow Copy &amp; Deep Copy</a> 
  </h1>

  <div class="post-content">
    <p>Data Type (型別)  首先在JS中,可分為 Primitive Type (基本型別) 跟 Non-Primitive Type (非基本型別)
 Primitive: Number、 String、 Boolean、 Null、 Undefined Non-Primitive: Object、 Array、 Function、 Date、 Regx  兩者差異在於，給值方式的不同
那麼可以分為 By value (值) 跟 By reference (參考位置)
  Primitive Type 是 By value
用 Number 舉例:
 var a = 1var b = ab = 2console.log(a); // Output: 1console.log(b); // Output: 2// 修改 b 時不會修改到 a   Non-Primitive Type 是 By reference  … </p>
  </div>

  <p class="meta">
    Posted on
    <span class="postdate">18. December 2019</span>
  </p>
</article>

<article class="post">
  <h1>
    <a href="https://nigel-wei-zhe.github.io/posts/session/">Session</a> 
  </h1>

  <div class="post-content">
    <p>Session 介紹  HTTP協議上本身是&quot;無狀態&quot;的,就是單純的傳送、接收，無法紀錄使用者的一些資訊， 所以 cookie 及 session 的這種機制就被發明出來了,那透一個情景來理解 Session 今天一位客人進入一間餐廳，服務生會發給他一張會員卡，上面會有一組會員ID 並在餐廳內部電腦記錄了，這個 ID 是哪位顧客持有的，並把基本資料 (姓名、電話) 跟這個 ID 綁定在一起 當下次這位顧客來到餐廳，出示他的會員卡，服務生就能透過會員的ID去查客人的基本資料 那麼 這裡面的 會員ID 就是 Session ID 藉由這個機制，就可以擴充HTTP協議本身是無狀態，讓一些新的應用產生
express-session  NPM:
npm install express-session Example:
var express = require('express')var session = require('express-session')app.use(session({name: 'connect.sid' // 設置在cookie中,保存session的名稱,預設為'connect.sid'store: ,// 默認存在內存中，可以改成 redis, mongodb 等secret: 'keyboard cat', // 加密字串resave: false, //每次請求要不要再重新發送 session saveUninitialized: true // 再沒有不論有沒有 session 每次請求都會發送 session cookiecookie: { maxAge: 10 * 1000 } // 設定有效時間}))app.  … </p>
  </div>

  <p class="meta">
    Posted on
    <span class="postdate">06. December 2019</span>
  </p>
</article>

<article class="post">
  <h1>
    <a href="https://nigel-wei-zhe.github.io/posts/multer/">multer</a> 
  </h1>

  <div class="post-content">
    <p>介紹   Multer 是一個 node.js 的中間件，&ldquo;只&quot;用於處理 multipart/form-data 類型的數據，主要用於上傳
 安裝:
npm install --save multer 參數  req.file 的屬性    Key Description Note     fieldname 表單上面的名稱    originalname 電腦上顯示的檔案名稱    encoding 編碼    mimetype 文件的mime 類型    size 文件大小 (位元組)    destination 路徑 DiskStorage   filename 保存在 destination 的名稱 DiskStorage   path 完整路徑 DiskStorage   buffer 存放檔案的內存 MemoryStorage    multer(opts) 的 opts    Key Description     dest or storage 存放位置   fileFilter 過濾 (函式)   limits 限制數據   preservePath 保存完整文件路徑     storage  … </p>
  </div>

  <p class="meta">
    Posted on
    <span class="postdate">24. November 2019</span>
  </p>
</article>

<article class="post">
  <h1>
    <a href="https://nigel-wei-zhe.github.io/posts/unable-to-retrieve-a-connections-remote-ip-address-under-iisnode/">Unable to retrieve a connection&#39;s remote IP address under IISNode</a> 
  </h1>

  <div class="post-content">
    <p>狀況  在 IIS 底下安裝 IISNode 模組，並在後端架設一個 Node.exe 要在 Node.exe 上獲取遠端連接的IP位址會失敗。 因為 IISNode 像是一個 reverse proxy 多個源頭進來，但 Node.exe 只會看到一個位址 就是 IISNode 所有的 client 連進來都看不到。 另外 IISNode 與 Node.exe 之間的連接是走命名的方式，不是走 TCP，所以在 Node.exe 無法取到 IP address
解決  在 IISNode 的 web.config 上添加
&lt;configuration&gt; &lt;system.webServer&gt; &lt;!-- ... --&gt; &lt;iisnode enableXFF=&quot;true&quot; /&gt; &lt;/system.webServer&gt; &lt;/configuration&gt;  這樣 client 連進來 IISNode 要拋給 Node.exe 就會添加 一個 X-Forwarded-For request header 把外部進來 IP　再傳遞下去
const http = require('http') http.  … </p>
  </div>

  <p class="meta">
    Posted on
    <span class="postdate">08. November 2019</span>
  </p>
</article>

<article class="post">
  <h1>
    <a href="https://nigel-wei-zhe.github.io/posts/veevalidate/">Vee-Validate v3.0.11</a> 
  </h1>

  <div class="post-content">
    <p>介紹   利用Vue.js基礎模板來驗證表單的模組，內建一些驗證規則，也可自行新增
 設置  安裝:
 npm
 npm install vee-validate --save   CDN
 &lt;!-- jsdelivr cdn --&gt; &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vee-validate@latest/dist/vee-validate.js&quot;&gt;&lt;/script&gt; &lt;!-- unpkg --&gt; &lt;script src=&quot;https://unpkg.com/vee-validate@latest&quot;&gt;&lt;/script&gt;  套用:
 所有規則套用中文訊息
 import { ValidationProvider, ValidationObserver, extend } from 'vee-validate' import * as rules from 'vee-validate/dist/rules' import tw from 'vee-validate/dist/locale/zh_TW' for (let rule in rules) { extend(rule, { ...rules[rule], // add the rule message: tw.messages[rule] // 把 message 加進去並中文化 }) } extend('telRegExp', { validate: value =&gt; { const reg = /^09\d{8}$/ return reg.  … </p>
  </div>

  <p class="meta">
    Posted on
    <span class="postdate">29. October 2019</span>
  </p>
</article>
 
	<nav class="pagination" role="pagination">
		
		<span class="page-number">Page 1 of 2</span>
		
			<a class="older-posts" href="/tags/nodejs/page/2/">Older Posts <span aria-hidden="true">&rarr;</span></a>
		
	</nav>

 </div>

      <footer id="footer">
        <p class="copyright">
           Copyright © 2022 nigel-lee. All rights reserved. 
        </p>
      </footer>
    </div>

    
  </body>
</html>
