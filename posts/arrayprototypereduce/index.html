<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    

    <title>Array.prototype.reduce 不只可以當作計數器</title>

     
    <link rel="stylesheet" href="https://nigel-wei-zhe.github.io/css/colors-dark.min.04ff1d6d2078fa65747fb72cef57eee0015c1b56e56c24eed85082032b2182f4.css" />
    <link rel="stylesheet" href="https://nigel-wei-zhe.github.io/css/mystyle.min.b714d93137a57ef2061e952e17d9d0c9bba8139d60a5ea4752530352bb90b2f0.css" />

    
  </head>
  <body>
    <header id="header">
      <h1><a href="https://nigel-wei-zhe.github.io/">Nigel 隨便寫</a></h1>
      <p>唯一應該超越的人，是昨天的自己</p>
      <p>The only person you should try to be better than, is who you were yesterday.</p>
    </header>

    <div id="page">
      <div id="sidebar"><nav>
	
		<ul class="nav">
			
				<li>
					<a href="/about">
						<div class="nav-item">
							<span>About Me</span>
							<span class="identifier">關於我</span>
						</div>
					</a>
				</li>
			
				<li>
					<a href="/posts">
						<div class="nav-item">
							<span>Blog</span>
							<span class="identifier">網誌</span>
						</div>
					</a>
				</li>
			
		</ul>
	
</nav>
</div>

      <div id="content">
<article class="post">
  <h1>
    <a href="https://nigel-wei-zhe.github.io/posts/arrayprototypereduce/">Array.prototype.reduce 不只可以當作計數器</a> 
  </h1>

  <div class="post-content"><h2 id="語法">語法</h2>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>array.reduce(
</span></span><span style="display:flex;"><span>  callback[(accumulator, currentValue, currentIndex, array)],
</span></span><span style="display:flex;"><span>  initialValue
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><hr>
<h4 id="物件陣列轉-mapping-表">物件陣列轉 mapping 表</h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>array.reduce((map, item) =&gt; <span style="color:#fff;font-weight:bold">Object</span>.assign(map, { [item.id]: item.name }), {});
</span></span></code></pre></div><h4 id="二維陣列轉一維">二維陣列轉一維</h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>array.reduce((acc, cur) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> acc.concat(cur);
</span></span><span style="display:flex;"><span>}, []);
</span></span></code></pre></div><h4 id="統計陣列中元素出現次數">統計陣列中元素出現次數</h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>array.reduce((acc, cur) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">if</span> (cur <span style="color:#fff;font-weight:bold">in</span> acc) {
</span></span><span style="display:flex;"><span>    acc[cur] = <span style="color:#ff0;font-weight:bold">1</span>;
</span></span><span style="display:flex;"><span>  } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>    acc[cur] += <span style="color:#ff0;font-weight:bold">1</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> acc;
</span></span><span style="display:flex;"><span>}, {});
</span></span></code></pre></div><h4 id="物件陣列依條件分類">物件陣列依條件分類</h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>array.reduce((acc, cur) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">if</span> (!acc[cur.type]) {
</span></span><span style="display:flex;"><span>    acc[cur.type] = [];
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  acc[cur.type].push(cur);
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> acc;
</span></span><span style="display:flex;"><span>}, {});
</span></span></code></pre></div><h4 id="陣列去重">陣列去重</h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>array.reduce((acc, cur) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">if</span> (!acc.includes(cur)) {
</span></span><span style="display:flex;"><span>    acc.push(cur);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> acc;
</span></span><span style="display:flex;"><span>}, []);
</span></span></code></pre></div><h4 id="求最大值或最小值">求最大值或最小值</h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>array.reduce((acc, cur) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">if</span> (!acc) {
</span></span><span style="display:flex;"><span>    acc = cur;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> acc;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">if</span> (acc.age &lt; cur.age) {
</span></span><span style="display:flex;"><span>    acc = cur;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> acc;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> acc;
</span></span><span style="display:flex;"><span>}, <span style="color:#ff0;font-weight:bold">0</span>);
</span></span></code></pre></div><hr>
<h2 id="引用">引用</h2>
<ol>
<li>
<p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce">Reduce - MDN</a><!-- raw HTML omitted --></p>
</li>
<li>
<p><a href="https://juejin.cn/post/6916087983808626701">以前我没得选，现在我只想用 Array.prototype.reduce</a><!-- raw HTML omitted --></p>
</li>
</ol>
<hr>
<h2 id="瀏覽器相容性">瀏覽器相容性</h2>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/"><!-- raw HTML omitted --></a>IE / Edge</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/"><!-- raw HTML omitted --></a>Firefox</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/"><!-- raw HTML omitted --></a>Chrome</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/"><!-- raw HTML omitted --></a>Safari</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">9 / 12</td>
<td style="text-align:center">3</td>
<td style="text-align:center">3</td>
<td style="text-align:center">5</td>
</tr>
</tbody>
</table>
</div>

  <p class="meta">
    Posted on
    <span class="postdate">08. April 2021</span>
  </p>
</article>
</div>

      <footer id="footer">
        <p class="copyright">
           Copyright © 2022 nigel-lee. All rights reserved. 
        </p>
      </footer>
    </div>

    
  </body>
</html>
