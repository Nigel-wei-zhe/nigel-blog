<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    
    <link
      href="/posts/index.xml"
      rel="alternate"
      type="application/rss+xml"
      title="Nigel 隨便寫"
    />
    <link
      href="/posts/index.xml"
      rel="feed"
      type="application/rss+xml"
      title="Nigel 隨便寫"
    />
    

    <title>Posts</title>

     
    <link rel="stylesheet" href="https://nigel-wei-zhe.github.io/css/colors-dark.min.04ff1d6d2078fa65747fb72cef57eee0015c1b56e56c24eed85082032b2182f4.css" />
    <link rel="stylesheet" href="https://nigel-wei-zhe.github.io/css/mystyle.min.b714d93137a57ef2061e952e17d9d0c9bba8139d60a5ea4752530352bb90b2f0.css" />

    
  </head>
  <body>
    <header id="header">
      <h1><a href="https://nigel-wei-zhe.github.io/">Nigel 隨便寫</a></h1>
      <p>唯一應該超越的人，是昨天的自己</p>
      <p>The only person you should try to be better than, is who you were yesterday.</p>
    </header>

    <div id="page">
      <div id="sidebar"><nav>
	
		<ul class="nav">
			
				<li>
					<a href="/about">
						<div class="nav-item">
							<span>About Me</span>
							<span class="identifier">關於我</span>
						</div>
					</a>
				</li>
			
				<li>
					<a href="/posts">
						<div class="nav-item">
							<span>Blog</span>
							<span class="identifier">網誌</span>
						</div>
					</a>
				</li>
			
		</ul>
	
</nav>
</div>

      <div id="content"> 
<article class="post">
  <h1>
    <a href="https://nigel-wei-zhe.github.io/posts/testaxiosinjest/">Jest 學習筆記</a> 
  </h1>

  <div class="post-content">
    <p>How to test axios by jest 最近剛好在寫單元測試,看了些東西,有些眉眉角角,像是有函式在 Node.js 下並不支援,導致單元測試過不了。像是這篇 Jest: TypeError: replaceAll is not a function 
 那麼在寫單元測試時,有碰到 axios,所以就稍微查網路做功課,以下就列出看到的方法
 藉由 jest.mock 替換掉 axios  SUT: System Under Test 測試目標DOC: Depended-on Component 依賴組件情況是這樣,有時候 SUT 有太多的 DOC ,為了避免模糊焦點,讓測試邏輯相對單純,所以可以會把一些 相依的 DOC,採用 mock 替換掉, 讓測試不失焦。
   import axios from &#34;axios&#34;  jest.mock(&#34;axios&#34;)  describe(&#34;axios 流程&#34;, () =&gt; {  test(&#34;success&#34;, () =&gt; {  const data = {  success: true  }  // 在axios.  … </p>
  </div>

  <p class="meta">
    Posted on
    <span class="postdate">02. June 2021</span>
  </p>
</article>

<article class="post">
  <h1>
    <a href="https://nigel-wei-zhe.github.io/posts/createelement/">createElement 隨手記</a> 
  </h1>

  <div class="post-content">
    <p>關於 createElement Document.createElement()  創造一個元素,搭配其他 api 可以實現在指定的元素後,把創造出來的新元素添加上去
 const title = document.createElement(&#34;div&#34;); title.innerText = &#34;Hello world&#34;; document.getElementsByTagName(&#34;body&#34;)[0].appendChild(title); vue createElement()  vue 製作 Virtual DOM 的函式,透過 render function 呼叫 createElement 來創造, 內部含有實現進行 diff 算法比較新舊 Virtual DOM 的差異,進而觸發渲染
 Vue.component(&#34;hello-world&#34;, {  render(createElement) {  return createElement(&#34;h1&#34;, {  domProps: {  innerHTML: &#34;Hello world&#34;,  },  });  }, });  vue createElement() 應用  參數相關設定可以直接參考 官網。 直接舉個使用經驗,今天有一個需求是需要基於 vue 提供的 transition 的标签名進行加工 目的是想透過 transition 本身針對 enter 跟 leave 的相關事件,來實作收合  … </p>
  </div>

  <p class="meta">
    Posted on
    <span class="postdate">15. May 2021</span>
  </p>
</article>

<article class="post">
  <h1>
    <a href="https://nigel-wei-zhe.github.io/posts/arrayprototypereduce/">Array.prototype.reduce 不只可以當作計數器</a> 
  </h1>

  <div class="post-content">
    <p>語法 array.reduce(  callback[(accumulator, currentValue, currentIndex, array)],  initialValue );  物件陣列轉 mapping 表 array.reduce((map, item) =&gt; Object.assign(map, { [item.id]: item.name }), {}); 二維陣列轉一維 array.reduce((acc, cur) =&gt; {  return acc.concat(cur); }, []); 統計陣列中元素出現次數 array.reduce((acc, cur) =&gt; {  if (cur in acc) {  acc[cur] = 1;  } else {  acc[cur] += 1;  }  return acc; }, {}); 物件陣列依條件分類 array.reduce((acc, cur) =&gt; {  if (!  … </p>
  </div>

  <p class="meta">
    Posted on
    <span class="postdate">08. April 2021</span>
  </p>
</article>

<article class="post">
  <h1>
    <a href="https://nigel-wei-zhe.github.io/posts/http-cache/">HTTP - cache</a> 
  </h1>

  <div class="post-content">
    <p>序  快取(cache)，聽過也大概知道有甚麼作用，但其中的原理還有 Header 中的一些相關配置就不是這麼的了解 所以整理了一下資料讓自己更清楚。
快取(Cache) 是甚麼  今天要瀏覽一個網頁，流程會是這樣
 瀏覽器 &ndash; 請求 &ndash;&gt; 伺服器 &ndash; 提供HTML、images&hellip;等相關資源 &ndash;&gt; 瀏覽器
 所以每次想要瀏覽一個網頁，就要從網頁伺服器，下載頁面、 圖片等等&hellip;的資源，假設今天那個網頁不常更新，內容其實都一樣，這樣每次下載一樣的東西，流量不就是浪費了嗎? 這時候 快取(Cache) 就派上用場了。
快取(Cache) 就是把比較不常變動的資源儲存起來在瀏覽器的快取中，當使用者今天要拜訪這個網頁時，就能快速把資料取出來。 可以節省流量，也因為不用再下載，也可以節省時間。
Expires  那麼要怎麼讓瀏覽器知道，這個頁面要快取呢? 可以在 HTTP Response Header 裡面添加 Expires Expires 是 HTTP 1.0 的 Header
Expires: Tue, 12 Jan 2021 14:41:30 GMT 瀏覽器收到這個Response，就會把資源快取下來，當下一次瀏覽器要再次瀏覽這個網頁，瀏覽器會檢查自己本身的時間，去比對是否有過期，超過 Expires 的時間，如果沒有超過，瀏覽器就不會發送 Request ，直接從 快取 中拿取資料。
那麼會有一個問題，瀏覽器比對是根據自己本身的時間，假設自己本身時間被改過，那麼就會失準。
Cache-Control: max-age  為了解決這個問題 HTTP 1.1 堆出了 新的 Header，用法如下
Cache-Control: max-age=10 意思是這個請求的到期時間是10秒，在10秒之內重新整理，都是從快取裡面拿資料，超過10秒之後，才會重新送新的 Request。  … </p>
  </div>

  <p class="meta">
    Posted on
    <span class="postdate">15. January 2020</span>
  </p>
</article>

<article class="post">
  <h1>
    <a href="https://nigel-wei-zhe.github.io/posts/google-analytics/">Google Analytics</a> 
  </h1>

  <div class="post-content">
    <p>開發網站絕對不是為了自己開心，通常都有目的性，不論是分享資訊、廣告、賣東西 那麼就會有個問題出來了，究竟有多少人看過我的網站呢? 流量如何? 都是從哪裡連過來 所以就會套用網路分析工具，在自己的網頁中埋code，方便統計這些數據，從而優化自己網站，增加流量
Google Analytics 那麼用自己的 blog 為例，目前引擎採用 hugo v0.58 根據官方的文件，是有 Internal Templates 只需要簡單添加幾行code就可以開通了
那麼第一步當然就是先去 Google Analytics 註冊開通，完成後應該會拿到一組 ##追蹤 ID##
大概是長這樣
UA-123xxxxxx-0  取得之後 就可以去 hugo 的 config.toml 裡 加入一行
googleAnalytics = &quot;UA-123xxxxxx-0&quot;  之後去你的 index 模板 加入
{{ template &quot;_internal/google_analytics.html&quot; . }}  run hugo server
接著去 Google Analytics 後台 看 即時流量 應該會有 &ldquo;1&rdquo; 就表示成功了，可以追蹤到你的網頁了
那麼補充一下可以在你的網址中加入 UTM 更能清楚知道來自哪邊
utm_source=FB // 活動來源 utm_medium=social // 活動媒介 utm_campaign=ZZZ // 活動名稱   </p>
  </div>

  <p class="meta">
    Posted on
    <span class="postdate">30. December 2019</span>
  </p>
</article>
 
	<nav class="pagination" role="pagination">
		
		<span class="page-number">Page 1 of 4</span>
		
			<a class="older-posts" href="/posts/page/2/">Older Posts <span aria-hidden="true">&rarr;</span></a>
		
	</nav>

 </div>

      <footer id="footer">
        <p class="copyright">
           Copyright © 2022 nigel-lee. All rights reserved. 
        </p>
      </footer>
    </div>

    
  </body>
</html>
